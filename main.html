<!doctype html>
<html>
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Piscines Nantes</title>
	<style>
		
	</style>
</head>
<body>
	<div id="infos">
		<h1>Listes des piscines Ã  Nantes</h1>
		<iframe src="https://data.nantesmetropole.fr/explore/embed/dataset/244400404_piscines-nantes-metropole/map/?disjunctive.commune&disjunctive.acces_pmr_equipt&disjunctive.bassin_sportif&disjunctive.pataugeoire&disjunctive.toboggan&disjunctive.bassin_apprentissage&disjunctive.plongeoir&disjunctive.solarium&disjunctive.bassin_loisir&disjunctive.accessibilite_handicap&disjunctive.libre_service&dataChart=eyJxdWVyaWVzIjpbeyJjaGFydHMiOlt7InR5cGUiOiJsaW5lIiwiZnVuYyI6IkNPVU5UIiwieUF4aXMiOiJsb25nX3dnczg0Iiwic2NpZW50aWZpY0Rpc3BsYXkiOnRydWUsImNvbG9yIjoiI0YxOEMwMCIsInBvc2l0aW9uIjoiY2VudGVyIn1dLCJ4QXhpcyI6ImNvbW11bmUiLCJtYXhwb2ludHMiOm51bGwsInNvcnQiOiIiLCJzZXJpZXNCcmVha2Rvd24iOiIiLCJzZXJpZXNCcmVha2Rvd25UaW1lc2NhbGUiOiIiLCJjb25maWciOnsiZGF0YXNldCI6IjI0NDQwMDQwNF9waXNjaW5lcy1uYW50ZXMtbWV0cm9wb2xlIiwib3B0aW9ucyI6eyJkaXNqdW5jdGl2ZS5jb21tdW5lIjp0cnVlLCJkaXNqdW5jdGl2ZS5hY2Nlc19wbXJfZXF1aXB0Ijp0cnVlLCJkaXNqdW5jdGl2ZS5iYXNzaW5fc3BvcnRpZiI6dHJ1ZSwiZGlzanVuY3RpdmUucGF0YXVnZW9pcmUiOnRydWUsImRpc2p1bmN0aXZlLnRvYm9nZ2FuIjp0cnVlLCJkaXNqdW5jdGl2ZS5iYXNzaW5fYXBwcmVudGlzc2FnZSI6dHJ1ZSwiZGlzanVuY3RpdmUucGxvbmdlb2lyIjp0cnVlLCJkaXNqdW5jdGl2ZS5zb2xhcml1bSI6dHJ1ZSwiZGlzanVuY3RpdmUuYmFzc2luX2xvaXNpciI6dHJ1ZSwiZGlzanVuY3RpdmUuYWNjZXNzaWJpbGl0ZV9oYW5kaWNhcCI6dHJ1ZSwiZGlzanVuY3RpdmUubGlicmVfc2VydmljZSI6dHJ1ZX19fV0sInRpbWVzY2FsZSI6IiIsImRpc3BsYXlMZWdlbmQiOnRydWUsImFsaWduTW9udGgiOnRydWV9&location=11,47.26429,-1.59123&basemap=jawg.streets&static=false&datasetcard=false&scrollWheelZoom=false" width="800" height="600" frameborder="0"></iframe>
		<template v-for="piscine in piscines">
			<label :for="piscine">{{ piscine }}</label>
		</template>

		<p>{{ piscines }}</p>

	</div>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script src="https://unpkg.com/vue@3"></script>
	<script>

	const apiURL = "https://data.nantesmetropole.fr/api/explore/v2.1/catalog/datasets/244400404_piscines-nantes-metropole/records?limit=20";

	Vue.createApp({
		data() {
			return {
				a: true
			};
		},
		
		created: function () {
			this.fetchDataPromise();
		},

		watch: {
			piscines: "fetchDataPromise",
		},
		
		methods: {
			fetchDataPromise: async function () {
				try {
					const response = await axios.get(apiURL);
					console.log(response.data);
					this.commits = response.data;
				} catch (error) {
					console.log("Appel API en erreur");
				}
			},
		},
	}).mount("#infos");
	</script>
</body>
</html>
	